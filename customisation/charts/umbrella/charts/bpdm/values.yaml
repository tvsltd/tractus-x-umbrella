---
################################################################################
# Copyright (c) 2021,2024 Contributors to the Eclipse Foundation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This program and the accompanying materials are made available under the
# terms of the Apache License, Version 2.0 which is available at
# https://www.apache.org/licenses/LICENSE-2.0.
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
# SPDX-License-Identifier: Apache-2.0
################################################################################

bpdm-gate:
  enabled: true
  applicationConfig:
    bpdm:
      datasource:
        host: bpdm-postgres
      security:
        auth-server-url: "http://bpdm-centralidp/auth"
  postgres:
    enabled: false
  centralidp:
    enabled: false

bpdm-pool:
  enabled: true
  applicationConfig:
    bpdm:
      datasource:
        host: bpdm-postgres
      security:
        auth-server-url: "http://bpdm-centralidp/auth"
  postgres:
    enabled: false
  centralidp:
    enabled: false

bpdm-cleaning-service-dummy:
  enabled: true
  applicationConfig:
    bpdm:
      client:
        orchestrator:
          provider:
            issuer-uri: "http://bpdm-centralidp/auth/realms/CX-Central"
  centralidp:
    enabled: false

bpdm-orchestrator:
  enabled: true
  applicationConfig:
    bpdm:
      datasource:
        host: bpdm-postgres
      security:
        auth-server-url: "http://bpdm-centralidp/auth"
  postgres:
    enabled: false
  centralidp:
    enabled: false

postgres:
  enabled: true
  fullnameOverride: bpdm-postgres
  auth:
    database: bpdm
    username: bpdm
    # Change for production
    password: bpdm

centralidp:
  enabled: true
  keycloak:
    fullnameOverride: bpdm-centralidp
  realmSeeding:
    # SET client secrets for all non-testing and non-local purposes, default value is autogenerated.
    serviceAccounts:
      clientSecrets:
        - clientId: sa-cl7-cx-1
          clientSecret: "**********"
        - clientId: sa-cl7-cx-5
          clientSecret: "**********"
        - clientId: sa-cl7-cx-7
          clientSecret: "**********"
        - clientId: sa-cl25-cx-1
          clientSecret: "**********"
        - clientId: sa-cl25-cx-2
          clientSecret: "**********"
        - clientId: sa-cl25-cx-3
          clientSecret: "**********"

tests:
  applicationConfig:
    bpdm:
      client:
        gate:
          provider:
            issuer-uri: http://bpdm-centralidp/auth/realms/CX-Central
        pool:
          provider:
            issuer-uri: http://bpdm-centralidp/auth/realms/CX-Central
        orchestrator:
          provider:
            issuer-uri: http://bpdm-centralidp/auth/realms/CX-Central
  image:
    registry: docker.io
    repository: tractusx/bpdm-system-tester
    pullPolicy: IfNotPresent
    # Overrides the image tag whose default is the chart appVersion.
    tag: ""
